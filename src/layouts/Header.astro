---
import { BriefcaseBusiness, FolderCode, UserRound, Mail } from "lucide-astro";
import { ThemeDropdown } from "@/components/react/ThemeDropdown";
---

<header id="main-header" class="w-full h-20 fixed transition-colors duration-300">
  <div class="w-full h-full flex justify-center max-w-screen-lg mx-auto">
    <div class="w-full h-full flex items-center justify-between px-6 py-4">
      <div class="w-max h-full flex items-center">
        <h1 class="text-3xl font-bold leading-6 gradient-text select-none">av.</h1>
      </div>
      <nav class="w-full flex items-center justify-center gap-x-7 text-white">
        <li class="text">
          <a href="#experience" aria-label="experience" class="flex items-center gap-x-2">
            <BriefcaseBusiness class="w-5 h-5" />
            <span class="text-base leading-6 font-medium text-nowrap">Experience</span>
          </a>
        </li>
        <li>
          <a href="#projects" aria-label="projects" class="flex items-center gap-x-2">
            <FolderCode class="w-5 h-5" />
            <span class="text-base leading-6 font-medium text-nowrap">Projects</span>
          </a>
        </li>
        <li>
          <a href="#about-me" aria-label="about-me" class="flex items-center gap-x-2">
            <UserRound class="w-5 h-5" /> 
            <span class="text-base leading-6 font-medium text-nowrap">About</span>
          </a>
        </li>
        <li>
          <a href="#contact" aria-label="contact" class="flex items-center gap-x-2">
            <Mail class="w-5 h-5" />
            <span class="text-base leading-6 font-medium text-nowrap">Contact</span>          
          </a>
        </li>
      </nav>
      <div class="w-max h-full flex items-center">
        <ThemeDropdown client:load />
      </div>
    </div>
  </div>
</header>

<script>
  if (typeof window !== 'undefined') {
    const header = document.getElementById('main-header');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        header?.classList.add('scrolled');
      } else {
        header?.classList.remove('scrolled');
      }
    });
  }
</script>

<style>
  h1.gradient-text {
    background: linear-gradient(90deg, #9845e8 0%, #3377ff 55%, #dd5789 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  li {
    list-style: none;
    text-decoration: none;
    color: #FFFF;
    transition: color 0.3s ease;

    &:hover {
      color: #FFEA9F;
    }
  }

  #main-header {
    background-color: transparent;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
  }

  #main-header.scrolled  {
    background-color: #151515;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    z-index: 99999;
  }

</style>
